<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”§ Resolver Login Definitivo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: #0f0;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #1a1a1a;
            padding: 30px;
            border: 3px solid #0f0;
            border-radius: 10px;
        }
        h1 {
            text-align: center;
            color: #0f0;
            font-size: 28px;
            margin-bottom: 30px;
        }
        .btn {
            width: 100%;
            padding: 20px;
            font-size: 18px;
            font-weight: bold;
            color: #000;
            background: #0f0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px 0;
            transition: all 0.2s;
        }
        .btn:hover {
            background: #0d0;
            transform: scale(1.02);
        }
        .resultado {
            margin: 20px 0;
            padding: 20px;
            background: #000;
            border: 2px solid #0f0;
            border-radius: 8px;
            font-family: monospace;
            white-space: pre-wrap;
            line-height: 1.6;
        }
        .ok { color: #0f0; }
        .erro { color: #f00; }
        .aviso { color: #ff0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ RESOLVER LOGIN - DEFINITIVO</h1>
        
        <button class="btn" onclick="etapa1()">
            1ï¸âƒ£ CRIAR FUNCIONÃRIO CÃ“DIGO 1
        </button>
        <div id="resultado1"></div>

        <button class="btn" onclick="etapa2()">
            2ï¸âƒ£ VERIFICAR SE FOI SALVO
        </button>
        <div id="resultado2"></div>

        <button class="btn" onclick="etapa3()">
            3ï¸âƒ£ INSTRUÃ‡Ã•ES DE LOGIN
        </button>
        <div id="resultado3"></div>
    </div>

    <script>
        function etapa1() {
            const div = document.getElementById('resultado1')
            
            // CRIAR/ATUALIZAR funcionÃ¡rio cÃ³digo 1
            const funcionario = {
                codigo: '1',
                id: '1',
                nome: 'EDUARDO ANTONIO BRAGA JUNIOR',
                nomeMin: 'EDUARDO ANTONIO BRAGA JUNIOR',
                prenome: 'EDUARDO',
                login: '0000',
                senha: '0000',
                email: 'eduardo@cartorio.com',
                cpf: '446.756.998-71',
                emAtividade: true,
                ordemSinalPublico: '1',
                endereco: 'Rua Onze de Junho',
                numero: '796',
                bairro: 'Casa Branca',
                cidade: 'Santo AndrÃ©',
                uf: 'SP',
                cep: '09015-520',
                telefone: '',
                celular: '',
                nascimento: '',
                rg: '',
                mae: '',
                pai: '',
                cargo: 'FuncionÃ¡rio',
                assinante: false,
                cargoMin: '',
                cargoCivil: '',
                cargoMin2: '',
                salario: '0,00',
                comissao: '',
                admissao: '2025-11-01',
                demissao: '',
                observacao: '',
                complemento: '',
                logradouro: ''
            }

            // Buscar lista existente
            const dados = localStorage.getItem('funcionarios-cadastrados')
            let lista = dados ? JSON.parse(dados) : []

            // Remover cÃ³digo 1 se existir
            lista = lista.filter(f => f.codigo !== '1' && f.codigo !== 1)

            // Adicionar novo
            lista.push(funcionario)

            // Salvar
            localStorage.setItem('funcionarios-cadastrados', JSON.stringify(lista))

            div.innerHTML = `
<div class="resultado ok">
âœ… FUNCIONÃRIO CRIADO/ATUALIZADO COM SUCESSO!

CÃ³digo: 1
Nome: EDUARDO ANTONIO BRAGA JUNIOR
Login: "0000" (4 zeros)
Senha: "0000" (4 zeros)
Email: eduardo@cartorio.com
CPF: 446.756.998-71

ğŸ’¾ Salvo no localStorage!

â¡ï¸ PRÃ“XIMO: Clique no botÃ£o 2
</div>
            `
        }

        function etapa2() {
            const div = document.getElementById('resultado2')
            
            const dados = localStorage.getItem('funcionarios-cadastrados')
            if (!dados) {
                div.innerHTML = '<div class="resultado erro">âŒ NENHUM DADO NO LOCALSTORAGE!</div>'
                return
            }

            const lista = JSON.parse(dados)
            const func1 = lista.find(f => f.codigo == '1')

            if (!func1) {
                div.innerHTML = '<div class="resultado erro">âŒ FUNCIONÃRIO CÃ“DIGO 1 NÃƒO ENCONTRADO!</div>'
                return
            }

            const loginOK = func1.login && String(func1.login).trim() !== ''
            const senhaOK = func1.senha && String(func1.senha).trim() !== ''

            div.innerHTML = `
<div class="resultado ${loginOK && senhaOK ? 'ok' : 'erro'}">
${loginOK && senhaOK ? 'âœ…' : 'âŒ'} VERIFICAÃ‡ÃƒO DO FUNCIONÃRIO

CÃ³digo: ${func1.codigo}
Nome: ${func1.nome}
Login: "${func1.login}" (${func1.login?.length} caracteres) ${loginOK ? 'âœ…' : 'âŒ'}
Senha: "${func1.senha}" (${func1.senha?.length} caracteres) ${senhaOK ? 'âœ…' : 'âŒ'}
Email: ${func1.email}

${loginOK && senhaOK ? `
âœ…âœ…âœ… TUDO CERTO! âœ…âœ…âœ…

PARA FAZER LOGIN USE:
Login: ${func1.login}
Senha: ${func1.senha}
Perfil: FuncionÃ¡rio

â¡ï¸ PRÃ“XIMO: Clique no botÃ£o 3
` : 'âŒ FALTA LOGIN OU SENHA! Clique no botÃ£o 1 novamente.'}
</div>
            `
        }

        function etapa3() {
            const div = document.getElementById('resultado3')
            
            const dados = localStorage.getItem('funcionarios-cadastrados')
            const lista = JSON.parse(dados || '[]')
            const func1 = lista.find(f => f.codigo == '1')

            if (!func1) {
                div.innerHTML = '<div class="resultado erro">âŒ FuncionÃ¡rio nÃ£o encontrado! Clique no botÃ£o 1 primeiro.</div>'
                return
            }

            div.innerHTML = `
<div class="resultado ok">
ğŸ“‹ INSTRUÃ‡Ã•ES PARA FAZER LOGIN:

1. FECHE ESTA ABA

2. VOLTE PARA A TELA DE LOGIN
   (http://localhost:3000)

3. DIGITE EXATAMENTE:

   Login: ${func1.login}
   Senha: ${func1.senha}
   
4. SELECIONE: FuncionÃ¡rio (NÃƒO Admin!)

5. CLIQUE EM: [ENTRAR]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ IMPORTANTE:
- Login tem ${func1.login?.length} caracteres
- Senha tem ${func1.senha?.length} caracteres
- Use EXATAMENTE como estÃ¡ aqui
- NÃƒO adicione espaÃ§os

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… AGORA VAI FUNCIONAR!
</div>
            `
        }
    </script>
</body>
</html>

